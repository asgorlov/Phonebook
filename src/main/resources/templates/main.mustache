<html lang="RU">
<head>
    <style>
        select {width: 180px;}

        #zatemnenie {
            background: rgba(102, 102, 102, 0.5);
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: none;
        }
        #okno {
            width: 300px;
            height: 220px;
            text-align: center;
            padding: 15px;
            border: 3px solid #000000;
            border-radius: 10px;
            color: #000000;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            margin: auto;
            background: #fff;
        }
        #zatemnenie:target {display: block;}
        #zatemnenie2 {
            background: rgba(102, 102, 102, 0.5);
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: none;
        }
        #okno2 {
            width: 250px;
            height: 180px;
            text-align: center;
            padding: 15px;
            border: 3px solid #000000;
            border-radius: 10px;
            color: #000000;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            margin: auto;
            background: #fff;
        }
        #zatemnenie2:target {display: block;}
        #zatemnenie3 {
            background: rgba(102, 102, 102, 0.5);
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            display: none;
        }
        #okno3 {
            width: 300px;
            height: 220px;
            text-align: center;
            padding: 15px;
            border: 3px solid #000000;
            border-radius: 10px;
            color: #000000;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            margin: auto;
            background: #fff;
        }
        #zatemnenie3:target {display: block;}
        .close {
            display: inline-block;
            border: 1px solid #000000;
            color: #000000;
            padding: 0 12px;
            margin: 10px;
            text-decoration: none;
            background: #f2f2f2;
            font-size: 12pt;
            cursor:pointer;
        }
        .close:hover {background: #e6e6ff;}

    </style>
</head>
<body>

<a href="#zatemnenie"><button><b>Добавить контакт</b></button></a>
<div id="zatemnenie">
    <div id="okno">
        <div>
            <div><b>Добавить контакт</b></div>
            <form method="post" action="add">
                <table>
                    <tr>
                        <td>Фамилия<span style="color: red; ">*</span></td>
                        <td> <input type="text" name="surname" minlength="2" maxlength="40" required></td>
                    </tr>
                    <tr>
                        <td>Имя<span style="color: red; ">*</span></td>
                        <td><input type="text" name="name" minlength="2" maxlength="40" required></td>
                    </tr>
                    <tr>
                        <td>Отчество</td>
                        <td><input type="text" name="family" minlength="2" maxlength="40"></td>
                    </tr>
                    <tr>
                        <td>Телефон<span style="color: red; ">*</span></td>
                        <td><input type="tel" name="number" placeholder="+Х-ХХХ-ХХХ-ХХ-ХХ"
                                   pattern="[\+]\d[\-]\d{3}[\-]\d{3}[\-]\d{2}[\-]\d{2}"
                                   minlength="16" maxlength="18" required></td>
                    </tr>
                    <tr>
                        <td>Тип номера<span style="color: red; ">*</span></td>
                        <td><select name="type" required>
                            <option selected disabled style="display:none">Выберете тип номера</option>
                            <option value="0">Сотовый</option>
                            <option value="1">Рабочий</option>
                            <option value="2">Домашний</option>
                        </select></td>
                    </tr>
                </table>
                <button type="submit">Добавить</button>
            </form>
        </div>
        <a href="#" class="close">Закрыть окно</a>
    </div>
</div>

<a href="#zatemnenie2"><button><b>Найти контакт</b></button></a>
<div id="zatemnenie2">
    <div id="okno2">
        <div>
            <div><b>Найти контакт</b></div>
            <form method="post" action="search">
                <table>
                    <tr>
                        <td>Фамилия</td>
                        <td> <input type="text" name="surname" minlength="2" maxlength="40"></td>
                    </tr>
                    <tr>
                        <td>Имя</td>
                        <td><input type="text" name="name" minlength="2" maxlength="40"></td>
                    </tr>
                    <tr>
                        <td>Телефон</td>
                        <td><input type="tel" name="number" placeholder="+Х-ХХХ-ХХХ-ХХ-ХХ"
                                   pattern="[\+]\d[\-]\d{3}[\-]\d{3}[\-]\d{2}[\-]\d{2}" minlength="16" maxlength="18"></td>
                    </tr>
                    <tr>
                </table>
                <button type="submit">Найти</button>
            </form>
        </div>
        <a href="#" class="close">Закрыть окно</a>
    </div>
</div>
<p></p>
<div><b>Список контактов</b></div>
<table>
    <tr>
        <td style="vertical-align: baseline">
            {{#persons}}
                <table>
                    <tr>
                        <td height = "30" style="vertical-align: baseline">
                            <span>{{surname}}</span>
                            <span>{{name}}</span>
                            <span>{{family}}</span>
                        </td>
                    </tr>
                </table>
            {{/persons}}

        <td style="vertical-align: baseline">
            {{#numbers}}
                <table>
                    <tr>
                        <td height = "30" style="vertical-align: baseline">
                            <span>{{phoneNumber}}</span>
                        </td>
                    </tr>
                </table>
            {{/numbers}}
        </td>

        <td style="vertical-align: baseline">
            {{#types}}
                <table>
                    <tr>
                        <td height = "30" style="vertical-align: baseline">
                            <span>{{type}}</span>
                        </td>
                    </tr>
                </table>
            {{/types}}
        </td>

        <td style="vertical-align: baseline">
            {{#references}}
                <table>
                    <tr>
                        <td height="30" style="vertical-align: baseline">
                            <form method="post" id="reading" action="read"></form>
                            <a href="#zatemnenie3">
                                <button form="reading" name="id" value={{id}}>Изменить</button>
                            </a>
                            <div id="zatemnenie3">
                                <div id="okno3">
                                    <div>
                                        <div><b>Изменить контакт</b></div>
                                        <form method="post" action="update">
                                            <table>
                                                <tr>
                                                    <td>Фамилия</td>
                                                    <td><input type="text" name="surname" placeholder="" minlength="2"
                                                               maxlength="40" required></td>
                                                </tr>
                                                <tr>
                                                    <td>Имя</td>
                                                    <td><input type="text" name="name" placeholder="" minlength="2"
                                                               maxlength="40" required></td>
                                                </tr>
                                                <tr>
                                                    <td>Отчество</td>
                                                    <td><input type="text" name="family" placeholder="" minlength="2"
                                                               maxlength="40" required></td>
                                                </tr>
                                                <tr>
                                                    <td>Телефон</td>
                                                    <td><input type="tel" name="number" placeholder="+Х-ХХХ-ХХХ-ХХ-ХХ"
                                                               pattern="[\+]\d[\-]\d{3}[\-]\d{3}[\-]\d{2}[\-]\d{2}"
                                                               required></td>
                                                </tr>
                                                <tr>
                                                    <td>Тип номера</td>
                                                    <td><select name="type" required>
                                                        <option selected disabled style="display:none">Выберете тип
                                                            номера
                                                        </option>
                                                        <option value="0">Сотовый</option>
                                                        <option value="1">Рабочий</option>
                                                        <option value="2">Домашний</option>
                                                    </select></td>
                                                </tr>
                                            </table>
                                            <button type="submit">Изменить</button>
                                        </form>
                                    </div>
                                    <a href="#" class="close">Закрыть окно</a>
                                </div>
                            </div>
                        </td>
                        <form method="post" action="delete">
                            <td height = "30" style="vertical-align: baseline">
                                <button type="submit" name = "id" value={{id}}>Удалить</button>
                            </td>
                        </form>
                    </tr>
                </table>
            {{/references}}
        </td>
    </tr>
</table>
</body>
</html>
